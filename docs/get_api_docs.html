
<!DOCTYPE html>
<html lang="ja">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-33888414-70"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-33888414-70');
</script>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>アクセストークンを取得する - freee Developers Community</title>
	<meta name="format-detection" content="telephone=no">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
	<link rel="mask-icon" href="/mask-icon.svg" color="#000000">
	<link rel="manifest" href="/manifest.json" crossorigin="use-credentials">
	<meta name="msapplication-TileColor" content="#000000">
	<meta name="msapplication-TileImage" content="/mstile-144x144.png">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5PSWFKT');</script>
<!-- End Google Tag Manager -->

	<meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' />

	<!-- This site is optimized with the Yoast SEO plugin v22.0 - https://yoast.com/wordpress/plugins/seo/ -->
	<link rel="canonical" href="https://developer.freee.co.jp/startguide/getting-access-token" />
	<meta property="og:locale" content="ja_JP" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="アクセストークンを取得する - freee Developers Community" />
	<meta property="og:description" content="アプリケーションの作成の次のステップ ここでは「アプリケーションを作成する」で取得したClient ID/Secretを用いて、アクセストークンを取得する手順を紹介します。 freeeではOauth2.0を採用しており、 &hellip; Continue reading アクセストークンを取得する &rarr;" />
	<meta property="og:url" content="https://developer.freee.co.jp/startguide/getting-access-token" />
	<meta property="og:site_name" content="freee Developers Community" />
	<meta property="article:modified_time" content="2024-07-05T02:30:21+00:00" />
	<meta property="og:image" content="https://developer.freee.co.jp/common/img/ogp.png" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:label1" content="Est. reading time" />
	<meta name="twitter:data1" content="20分" />
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"WebPage","@id":"https://developer.freee.co.jp/startguide/getting-access-token","url":"https://developer.freee.co.jp/startguide/getting-access-token","name":"アクセストークンを取得する - freee Developers Community","isPartOf":{"@id":"https://developer.freee.co.jp/#website"},"primaryImageOfPage":{"@id":"https://developer.freee.co.jp/startguide/getting-access-token#primaryimage"},"image":{"@id":"https://developer.freee.co.jp/startguide/getting-access-token#primaryimage"},"thumbnailUrl":"https://developer.freee.co.jp/wp-content/uploads/2024/04/freee-o-auth-flow-2-1024x578.png","datePublished":"2019-11-01T07:36:04+00:00","dateModified":"2024-07-05T02:30:21+00:00","breadcrumb":{"@id":"https://developer.freee.co.jp/startguide/getting-access-token#breadcrumb"},"inLanguage":"ja","potentialAction":[{"@type":"ReadAction","target":["https://developer.freee.co.jp/startguide/getting-access-token"]}]},{"@type":"ImageObject","inLanguage":"ja","@id":"https://developer.freee.co.jp/startguide/getting-access-token#primaryimage","url":"https://developer.freee.co.jp/wp-content/uploads/2024/04/freee-o-auth-flow-2.png","contentUrl":"https://developer.freee.co.jp/wp-content/uploads/2024/04/freee-o-auth-flow-2.png","width":3670,"height":2072,"caption":"oauth2.0の遷移図"},{"@type":"BreadcrumbList","@id":"https://developer.freee.co.jp/startguide/getting-access-token#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"freee API スタートガイド","item":"https://developer.freee.co.jp/startguide"},{"@type":"ListItem","position":2,"name":"アクセストークンを取得する"}]},{"@type":"WebSite","@id":"https://developer.freee.co.jp/#website","url":"https://developer.freee.co.jp/","name":"freee Developers Community","description":"freee Developers Community","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://developer.freee.co.jp/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"ja"}]}</script>
	<!-- / Yoast SEO plugin. -->


<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel="alternate" type="application/rss+xml" title="freee Developers Community &raquo; フィード" href="https://developer.freee.co.jp/feed" />
<link rel="alternate" type="application/rss+xml" title="freee Developers Community &raquo; コメントフィード" href="https://developer.freee.co.jp/comments/feed" />
		<link rel="preload" href="https://developer.freee.co.jp/wp-includes/css/dist/block-library/style.min.css?ver=6.5.5" as="style" onload="this.onload=null;this.rel='stylesheet'" data-handle="wp-block-library" media="all" />
		<noscript><link rel='stylesheet' id='wp-block-library-css' href='https://developer.freee.co.jp/wp-includes/css/dist/block-library/style.min.css?ver=6.5.5' media='all' />
</noscript>
<style id='wp-block-library-theme-inline-css'>
.wp-block-audio figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-audio figcaption{color:#ffffffa6}.wp-block-audio{margin:0 0 1em}.wp-block-code{border:1px solid #ccc;border-radius:4px;font-family:Menlo,Consolas,monaco,monospace;padding:.8em 1em}.wp-block-embed figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-embed figcaption{color:#ffffffa6}.wp-block-embed{margin:0 0 1em}.blocks-gallery-caption{color:#555;font-size:13px;text-align:center}.is-dark-theme .blocks-gallery-caption{color:#ffffffa6}.wp-block-image figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-image figcaption{color:#ffffffa6}.wp-block-image{margin:0 0 1em}.wp-block-pullquote{border-bottom:4px solid;border-top:4px solid;color:currentColor;margin-bottom:1.75em}.wp-block-pullquote cite,.wp-block-pullquote footer,.wp-block-pullquote__citation{color:currentColor;font-size:.8125em;font-style:normal;text-transform:uppercase}.wp-block-quote{border-left:.25em solid;margin:0 0 1.75em;padding-left:1em}.wp-block-quote cite,.wp-block-quote footer{color:currentColor;font-size:.8125em;font-style:normal;position:relative}.wp-block-quote.has-text-align-right{border-left:none;border-right:.25em solid;padding-left:0;padding-right:1em}.wp-block-quote.has-text-align-center{border:none;padding-left:0}.wp-block-quote.is-large,.wp-block-quote.is-style-large,.wp-block-quote.is-style-plain{border:none}.wp-block-search .wp-block-search__label{font-weight:700}.wp-block-search__button{border:1px solid #ccc;padding:.375em .625em}:where(.wp-block-group.has-background){padding:1.25em 2.375em}.wp-block-separator.has-css-opacity{opacity:.4}.wp-block-separator{border:none;border-bottom:2px solid;margin-left:auto;margin-right:auto}.wp-block-separator.has-alpha-channel-opacity{opacity:1}.wp-block-separator:not(.is-style-wide):not(.is-style-dots){width:100px}.wp-block-separator.has-background:not(.is-style-dots){border-bottom:none;height:1px}.wp-block-separator.has-background:not(.is-style-wide):not(.is-style-dots){height:2px}.wp-block-table{margin:0 0 1em}.wp-block-table td,.wp-block-table th{word-break:normal}.wp-block-table figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-table figcaption{color:#ffffffa6}.wp-block-video figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-video figcaption{color:#ffffffa6}.wp-block-video{margin:0 0 1em}.wp-block-template-part.has-background{margin-bottom:0;margin-top:0;padding:1.25em 2.375em}
</style>
<style id='classic-theme-styles-inline-css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css'>
body{--wp--preset--color--black: #000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #fff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--green: #24890d;--wp--preset--color--dark-gray: #2b2b2b;--wp--preset--color--medium-gray: #767676;--wp--preset--color--light-gray: #f5f5f5;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}body .is-layout-grid{display: grid;}body .is-layout-grid > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}
</style>
		<link rel="preload" href="https://developer.freee.co.jp/wp-includes/css/dashicons.min.css?ver=6.5.5" as="style" onload="this.onload=null;this.rel='stylesheet'" data-handle="dashicons" media="all" />
		<noscript><link rel='stylesheet' id='dashicons-css' href='https://developer.freee.co.jp/wp-includes/css/dashicons.min.css?ver=6.5.5' media='all' />
</noscript>
		<link rel="preload" href="https://developer.freee.co.jp/wp-content/plugins/wp-anchor-header/css/achored-header.css?ver=0.2.3" as="style" onload="this.onload=null;this.rel='stylesheet'" data-handle="achored-header" media="all" />
		<noscript><link rel='stylesheet' id='achored-header-css' href='https://developer.freee.co.jp/wp-content/plugins/wp-anchor-header/css/achored-header.css?ver=0.2.3' media='all' />
</noscript>
		<link rel="preload" href="//fonts.googleapis.com/css2?family=Noto+Sans+JP%3Awght%40300%3B700&#038;display=swap&#038;ver=6.5.5" as="style" onload="this.onload=null;this.rel='stylesheet'" data-handle="google_fonts" media="all" />
		<noscript><link rel='stylesheet' id='google_fonts-css' href='//fonts.googleapis.com/css2?family=Noto+Sans+JP%3Awght%40300%3B700&#038;display=swap&#038;ver=6.5.5' media='all' />
</noscript>
		<link rel="preload" href="https://developer.freee.co.jp/common//css/style.css?ver=6.5.5" as="style" onload="this.onload=null;this.rel='stylesheet'" data-handle="freee_style" media="all" />
		<noscript><link rel='stylesheet' id='freee_style-css' href='https://developer.freee.co.jp/common//css/style.css?ver=6.5.5' media='all' />
</noscript>
		<link rel="preload" href="https://developer.freee.co.jp/wp-content/themes/freee/style.css?ver=20230328" as="style" onload="this.onload=null;this.rel='stylesheet'" data-handle="twentyfourteen-style" media="all" />
		<noscript><link rel='stylesheet' id='twentyfourteen-style-css' href='https://developer.freee.co.jp/wp-content/themes/freee/style.css?ver=20230328' media='all' />
</noscript>
		<link rel="preload" href="https://developer.freee.co.jp/wp-content/themes/twentyfourteen/css/blocks.css?ver=20230206" as="style" onload="this.onload=null;this.rel='stylesheet'" data-handle="twentyfourteen-block-style" media="all" />
		<noscript><link rel='stylesheet' id='twentyfourteen-block-style-css' href='https://developer.freee.co.jp/wp-content/themes/twentyfourteen/css/blocks.css?ver=20230206' media='all' />
</noscript>
<!--[if lt IE 9]>
		<link rel="preload" href="https://developer.freee.co.jp/wp-content/themes/twentyfourteen/css/ie.css?ver=20140711" as="style" onload="this.onload=null;this.rel='stylesheet'" data-handle="twentyfourteen-ie" media="all" />
		<noscript><link rel='stylesheet' id='twentyfourteen-ie-css' href='https://developer.freee.co.jp/wp-content/themes/twentyfourteen/css/ie.css?ver=20140711' media='all' />
</noscript>
<![endif]-->
<script defer src="https://developer.freee.co.jp/wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<script defer src="https://developer.freee.co.jp/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" id="jquery-migrate-js"></script>
<script defer src="https://developer.freee.co.jp/common//js/cmn.js?ver=1" id="freee_script-js"></script>
<script defer src="https://developer.freee.co.jp/wp-content/themes/freee/js/toc.js?ver=1" id="toc-js"></script>
		</head>

<body class="page-template-default page page-id-2004 page-child parent-pageid-31 wp-embed-responsive page-getting-access-token page-startguide-child group-blog masthead-fixed full-width singular">

<!-- header orange notice  -->
<!--
<div style="display:table;position:sticky;background-color:#FFAA78;min-height:2.25rem;width:100%;padding:0.5rem 1rem;">
        <p style="display:table-cell;color:#1A1A1A;font-size:16px;line-height:1.5;text-align:center;vertical-align:middle;">
                freee APIは2024年1月、リフレッシュトークンの有効期限を変更しました。
                <a style="margin-left:1em;text-decoration:underline;color:#1A1A1A;" target="_blank" href="https://developer.freee.co.jp/news/6540">詳細を見る</a>
        </p>
</div>
-->
<!-- /// header orange notice  -->

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5PSWFKT"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<header id="js-header" class="l-header" role="banner">
	<p class="l-header_logo"><a href="/"><img src="https://developer.freee.co.jp/common/img/logo.svg" width="562" height="120" alt="freee Developers Community"></a></p>
	<nav class="l-gnavi" role="navigation">
		<button class="l-menu_trigger" title="MENU" data-a11y-toggle="l-gnavi_menu">
			<span class="l-menu_trigger_line"></span>
		</button>
		<div id="l-gnavi_menu" class="l-gnavi_menu">
			<form id="gcse-searchbox" class="l-gnavi_search-modal c-search-form" action="https://developer.freee.co.jp/search">
				<input type="hidden" name="cx" value="df10c23bf39e6da3c">
				<input type="hidden" name="ie" value="UTF-8">
				<input class="c-search-form__txt" type="text" name="q" size="31" placeholder="キーワードを入力">
				<button class="c-search-form__btn" type="submit" name="sa" value="Search"></button>
			</form>
			<div class="menu-global-menu-container"><ul id="menu-global-menu" class="l-gnavi_main"><li id="menu-item-5444" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-5444"><a href="https://developer.freee.co.jp/startguide">スタートガイド</a></li>
<li id="menu-item-5445" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-5445"><a href="#">リファレンス</a>
<ul class="sub-menu">
	<li id="menu-item-5446" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5446"><a href="https://developer.freee.co.jp/reference">リファレンストップ</a></li>
	<li id="menu-item-5447" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5447"><a href="https://developer.freee.co.jp/reference/accounting">会計API 概要</a></li>
	<li id="menu-item-5448" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5448"><a href="https://developer.freee.co.jp/reference/accounting/reference">会計APIリファレンス</a></li>
	<li id="menu-item-6714" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6714"><a href="https://developer.freee.co.jp/reference/accounting/webhook">会計Webhook概要</a></li>
	<li id="menu-item-6431" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6431"><a href="https://developer.freee.co.jp/reference/iv">請求書API概要</a></li>
	<li id="menu-item-6430" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6430"><a href="https://developer.freee.co.jp/reference/iv/reference">請求書APIリファレンス</a></li>
	<li id="menu-item-5450" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5450"><a href="https://developer.freee.co.jp/reference/hr">人事労務API 概要</a></li>
	<li id="menu-item-5451" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5451"><a href="https://developer.freee.co.jp/reference/hr/reference">人事労務APIリファレンス</a></li>
	<li id="menu-item-5452" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5452"><a href="https://developer.freee.co.jp/reference/dp">受発注API概要</a></li>
	<li id="menu-item-5453" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5453"><a href="https://developer.freee.co.jp/reference/dp/reference">受発注APIリファレンス</a></li>
	<li id="menu-item-5454" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5454"><a href="https://developer.freee.co.jp/reference/pm">工数管理API概要</a></li>
	<li id="menu-item-5455" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5455"><a href="https://developer.freee.co.jp/reference/pm/reference">工数管理APIリファレンス</a></li>
	<li id="menu-item-5457" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5457"><a href="https://developer.freee.co.jp/reference/faq">FAQ:よくあるご質問</a></li>
	<li id="menu-item-5458" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5458"><a href="https://developer.freee.co.jp/reference/community">Community過去ログ</a></li>
</ul>
</li>
<li id="menu-item-5459" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5459"><a href="https://developer.freee.co.jp/guideline">設計ガイドライン</a></li>
<li id="menu-item-5460" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5460"><a href="https://developer.freee.co.jp/for-non-engineer">ノンエンジニアの方へ</a></li>
<li id="menu-item-6555" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6555"><a href="https://app.secure.freee.co.jp/">freeeアプリストア</a></li>
<li id="menu-item-5461" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5461"><a href="https://developer.freee.co.jp/info">お知らせ</a></li>
</ul></div>			<a id="js-search-button" class="l-gnavi_search-button" href="#"><img src="https://developer.freee.co.jp/common/img/ico_search01.svg" alt="" width="" height=""></a>
		<!-- /.l-gnavi_menu --></div>
	</nav>
</header>

<div class="l-wrapper">
	<div class="l-contents l-contents--3col">
		<main role="main" class="l-main">
			<div class="l-main__main">

				<div class="l-breadcrumbs"><span><span><a href="https://developer.freee.co.jp/startguide">freee API スタートガイド</a></span>  <span class="breadcrumb_last" aria-current="page">アクセストークンを取得する</span></span></div>
				
				
<article id="post-2004" class="post-2004 page type-page status-publish hentry">
	<header class="entry-header l-entry-header">
				<h1 class="entry-title">アクセストークンを取得する</h1>	</header><!-- .l-entry-header -->

    <div class="l-entry-content">
		<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><head><meta charset="UTF-8"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head><body><h2 class="wp-block-heading" id="%e3%82%a2%e3%83%97%e3%83%aa%e3%82%b1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%ae%e4%bd%9c%e6%88%90%e3%81%ae%e6%ac%a1%e3%81%ae%e3%82%b9%e3%83%86%e3%83%83%e3%83%97">アプリケーションの作成の次のステップ<a class="anchorlink dashicons-before" href="#%e3%82%a2%e3%83%97%e3%83%aa%e3%82%b1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%ae%e4%bd%9c%e6%88%90%e3%81%ae%e6%ac%a1%e3%81%ae%e3%82%b9%e3%83%86%e3%83%83%e3%83%97"></a></h2>



<p>ここでは「<a href="https://developer.freee.co.jp/startguide/starting-api">アプリケーションを作成する</a>」で取得したClient ID/Secretを用いて、アクセストークンを取得する手順を紹介します。</p>



<p>freeeではOauth2.0を採用しており、この仕組みにより、アプリケーション利用者はfreeeのIDとパスワードをアプリケーションに教えることなくログイン、アプリケーションを利用することができます。</p>



<p>freeeではAuthorization Code Grantを推奨しています。アクセストークン取得は以下の手順にて行います。</p>



<ul>
<li>ユーザーの同意を得て認可コードを取得する
<ul>
<li>アプリケーションを利用するユーザーが認可をすることで認可コードを取得することができる
<ul>
<li>ユーザーがログインしていなければログイン、複数の事業所に所属していれば選択、データアクセスを確認して許可すると認可コードを取得可能です</li>
</ul>
</li>
</ul>
</li>



<li>認可コードとclient id, client secretを利用してアクセストークンを取得する
<ul>
<li>あわせてリフレッシュトークンも取得できる</li>



<li>有効期限が切れそう、切れたら）リフレッシュトークンを用いてアクセストークンを取得する
<ul>
<li>認可コードの変わりにリフレッシュトークンを利用して新しいアクセストークンを取得する</li>



<li>1つのリフレッシュトークンを利用して2度アクセストークンを取得することはできません。アクセストークン取得毎にリフレッシュトークンを保管し、アクセストークンを取得してください。  </li>
</ul>
</li>
</ul>
</li>



<li>取得している有効なアクセストークンでリソースサーバーにアクセスして必要なデータを取得する</li>
</ul>



<figure class="wp-block-image size-large"><img fetchpriority="high" decoding="async" width="1024" height="578" src="https://developer.freee.co.jp/wp-content/uploads/2024/04/freee-o-auth-flow-2-1024x578.png" alt="oauth2.0の遷移図" class="wp-image-6967" srcset="https://developer.freee.co.jp/wp-content/uploads/2024/04/freee-o-auth-flow-2-1024x578.png 1024w, https://developer.freee.co.jp/wp-content/uploads/2024/04/freee-o-auth-flow-2-300x169.png 300w, https://developer.freee.co.jp/wp-content/uploads/2024/04/freee-o-auth-flow-2-768x434.png 768w, https://developer.freee.co.jp/wp-content/uploads/2024/04/freee-o-auth-flow-2-1536x867.png 1536w, https://developer.freee.co.jp/wp-content/uploads/2024/04/freee-o-auth-flow-2-2048x1156.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption class="wp-element-caption">Authorization Code Flowでのアクセストークン取得と更新</figcaption></figure>



<p>以下で詳細なステップを見ていきましょう。</p>



<h2 class="wp-block-heading" id="3-%e8%aa%8d%e5%8f%af%e3%82%b3%e3%83%bc%e3%83%89%e3%82%92%e5%8f%96%e5%be%97%e3%81%99%e3%82%8b">3.認可コードを取得する<a class="anchorlink dashicons-before" href="#3-%e8%aa%8d%e5%8f%af%e3%82%b3%e3%83%bc%e3%83%89%e3%82%92%e5%8f%96%e5%be%97%e3%81%99%e3%82%8b"></a></h2>



<p>認証用URLはアプリケーション利用者にアクセス権や対象のなる事業所の確認と許可を得るためのURLで、アプリケーションは認可コードを取得するためのきっかけとなる画面です。<a href="https://app.secure.freee.co.jp/developers/applications" target="_blank" rel="noopener noreferrer">freeeアプリストアのアプリ管理画面</a>で確認します。</p>



<p>Top &gt; アプリ管理 &gt; アプリ詳細 「基本設定」タブ</p>



<figure class="wp-block-image size-large"><img decoding="async" width="1024" height="471" src="https://developer.freee.co.jp/wp-content/uploads/2022/06/freee_app_store_app_man_details_basics-1024x471.png" alt="" class="wp-image-5862" srcset="https://developer.freee.co.jp/wp-content/uploads/2022/06/freee_app_store_app_man_details_basics-1024x471.png 1024w, https://developer.freee.co.jp/wp-content/uploads/2022/06/freee_app_store_app_man_details_basics-300x138.png 300w, https://developer.freee.co.jp/wp-content/uploads/2022/06/freee_app_store_app_man_details_basics-768x353.png 768w, https://developer.freee.co.jp/wp-content/uploads/2022/06/freee_app_store_app_man_details_basics-1536x706.png 1536w, https://developer.freee.co.jp/wp-content/uploads/2022/06/freee_app_store_app_man_details_basics.png 1686w" sizes="(max-width: 1024px) 100vw, 1024px" /><figcaption class="wp-element-caption">基本情報画面</figcaption></figure>



<ol>
<li>コールバックURLを指定します。コールバックURLは認可コードやアクセストークンを取得できた際に情報をアプリケーションに渡す場として機能、設定します。
<ol>
<li>ローカル環境 でテストなどを行う場合は`urn:ietf:wg:oauth:2.0:oob` に設定し、認証用URLにアクセスします。</li>



<li>アプリケーションを配置しているサーバーがローカル環境ではなく、例えばSpreadsheetなどの場合は必要な値を入れます。 </li>
</ol>
</li>



<li>変更して下書き保存を行うと認証用URLが変わります。</li>
</ol>



<h4 class="wp-block-heading" id="%e3%83%96%e3%83%a9%e3%82%a6%e3%82%b6%e3%81%a7%e8%aa%8d%e5%8f%af%e3%82%b3%e3%83%bc%e3%83%89%e5%8f%96%e5%be%97%e3%81%99%e3%82%8b%e5%a0%b4%e5%90%88"> ブラウザで認可コード取得する場合<a class="anchorlink dashicons-before" href="#%e3%83%96%e3%83%a9%e3%82%a6%e3%82%b6%e3%81%a7%e8%aa%8d%e5%8f%af%e3%82%b3%e3%83%bc%e3%83%89%e5%8f%96%e5%be%97%e3%81%99%e3%82%8b%e5%a0%b4%e5%90%88"></a></h4>



<p>1.テストを行う、フローを理解する目的の場合は、ブラウザで認可コードの取得ができます。アプリケーション利用者（freee user, リソースオーナー）が認証用URLにアクセスし、freeeのid, passwordでログインをすると、以下の画面となります。アクセス権とアクセスする事業所を選択したのちに、アプリケーションにアクセスを許可する意思として「許可する」をクリックします。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large is-resized"><img decoding="async" src="https://developer.freee.co.jp/wp-content/uploads/2023/01/%E8%AA%8D%E5%8F%AF%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99%E5%8F%96%E5%BE%97%E7%94%BB%E9%9D%A2%EF%BC%88%E4%BA%8B%E6%A5%AD%E6%89%80%E9%81%B8%E6%8A%9E%EF%BC%89%E3%81%9D%E3%81%AE1-926x1024.png" alt="事業所選択の画面" class="wp-image-6244" style="width:463px;height:512px"><figcaption class="wp-element-caption">アカウント内に複数の事業所が存在する場合、事業所選択の画面が表示されます。</figcaption></figure></div>

<div class="wp-block-image">
<figure class="aligncenter size-large is-resized"><img decoding="async" src="https://developer.freee.co.jp/wp-content/uploads/2023/01/%E8%AA%8D%E5%8F%AF%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99%E5%8F%96%E5%BE%97%E7%94%BB%E9%9D%A2%EF%BC%88%E4%BA%8B%E6%A5%AD%E6%89%80%E9%81%B8%E6%8A%9E%EF%BC%89%E3%81%9D%E3%81%AE2-896x1024.png" alt="" class="wp-image-6241" style="width:448px;height:512px"><figcaption class="wp-element-caption">アプリが持つアクセス権を確認し、「許可する」を選択します。</figcaption></figure></div>


<p>2.認可コードが表示されます。</p>


<div class="wp-block-image">
<figure class="aligncenter size-full"><img decoding="async" width="575" height="541" src="https://developer.freee.co.jp/wp-content/uploads/2021/06/authorization_code.png" alt="認可コードの取得画面" class="wp-image-4841" srcset="https://developer.freee.co.jp/wp-content/uploads/2021/06/authorization_code.png 575w, https://developer.freee.co.jp/wp-content/uploads/2021/06/authorization_code-300x282.png 300w" sizes="(max-width: 575px) 100vw, 575px" /><figcaption class="wp-element-caption">表示される認可コードをコピーします。</figcaption></figure></div>


<h4 class="wp-block-heading" id="%e3%82%a2%e3%83%97%e3%83%aa%e3%82%b1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%8b%e3%82%89redirect_uri%e3%82%92%e5%88%a9%e7%94%a8%e3%81%97%e3%81%a6%e8%aa%8d%e5%8f%af%e3%82%b3%e3%83%bc%e3%83%89">アプリケーションからredirect_uriを利用して認可コードを取得する場合<a class="anchorlink dashicons-before" href="#%e3%82%a2%e3%83%97%e3%83%aa%e3%82%b1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%8b%e3%82%89redirect_uri%e3%82%92%e5%88%a9%e7%94%a8%e3%81%97%e3%81%a6%e8%aa%8d%e5%8f%af%e3%82%b3%e3%83%bc%e3%83%89"></a></h4>



<p>実際に業務で利用する、してもらうアプリケーションを実装する場合は、以下の流れで認可コードを取得します。（ログイン操作、確認についてはブラウザを利用します）</p>



<ul>
<li>利用者がアプリケーションにアクセスしたタイミングで、アクセストークンの取得ができていない場合は以下のようにアプリケーション処理とユーザーアクションを進めます
<ol>
<li>アプリケーションからリダイレクトを行うことで認証用URLにアクセスするように導きます。これにより、利用者は認可エンドポイントへアクセスすることになり、上記のブラウザでアクセスする場合と同じ画面（アクセス権、アクセスする事業所）を表示することができます。</li>



<li>ユーザーがログインできていない場合、認証用URLに遷移した後に
<ol>
<li>ユーザーにはfreeeのログイン画面が表示されます</li>



<li>ユーザーはid/passwordを入れるか、googleアカウントなどでログインします</li>
</ol>
</li>



<li>ユーザーが複数の事業所所属している場合（そうでない場合は、画面表示されません）
<ol>
<li>ユーザーは利用する事業所を選択します</li>
</ol>
</li>



<li>ユーザーは認可をします
<ol>
<li>「アプリ連携を開始しますか？」の画面でアクセス権を確認し、「許可する」ボタンを押下します</li>
</ol>
</li>
</ol>
</li>



<li>認証用URLを具体的なURLで表現すると、以下のようになります。
<ul>
<li><code>https://accounts.secure.freee.co.jp/public_api/authorize?response_type=code&amp;client_id={アプリのclient_id}&amp;redirect_uri={アプリのコールバックURL}&amp;state={ランダムな文字列}</code>&amp;prompt=select_company</li>



<li>アプリストアの基本情報画面で取得や設定ができます</li>
</ul>
</li>



<li>コールバックURLはエンコードして入れます。</li>



<li>stateはCSRF対策として、同一のセッションであることを確認するために利用します。リクエストごとにアプリケーション側で生成した十分な長さのランダムな文字列を指定してください</li>
</ul>



<ul>
<li>リクエストヘッダには以下を指定します。
<ul>
<li><code>Content-Type:application/x-www-form-urlencoded</code><b> </b> </li>
</ul>
</li>



<li>リクエストが成功し、利用者がログインをした上で「許可する」を選択すると（ユーザーがアプリのアクセス権と、アクセス先の事業所を確認、許可すると）、認可コードが発行されます。</li>



<li>この時、redirect_url に指定された値によって、認可コードのレスポンス先が変わります
<ul>
<li><code>HTTP/1.1 302 found Location: {アプリのコールバックURL}?code={認可コード}&amp;state={認証用URLに指定したランダムな文字列}</code></li>
</ul>
</li>



<li>クライアント側で認可リクエスト時に指定したstateがリダイレクト時に返却されたstateパラメータと一致しているかチェックを行って下さい。一致していない場合はエラーとして処理をしてください。
<ul>
<li>チェックが問題なければ上記レスポンスで得られた認可コードを取得してアクセストークンを取得しましょう</li>
</ul>
</li>
</ul>



<h2 class="wp-block-heading" id="4-%e3%82%a2%e3%82%af%e3%82%bb%e3%82%b9%e3%83%88%e3%83%bc%e3%82%af%e3%83%b3%e3%82%92%e5%8f%96%e5%be%97%e3%81%99%e3%82%8b">4.アクセストークンを取得する<a class="anchorlink dashicons-before" href="#4-%e3%82%a2%e3%82%af%e3%82%bb%e3%82%b9%e3%83%88%e3%83%bc%e3%82%af%e3%83%b3%e3%82%92%e5%8f%96%e5%be%97%e3%81%99%e3%82%8b"></a></h2>



<p><strong>1.Access Token URLにリクエストを送信する。</strong><br>これまでに取得したClient ID、Secret、認可コード、コールバックURL（エンコードしたもの）の4点から、アクセストークンを取得します。  </p>



<pre class="wp-block-code"><code>curl -i -X POST \
 -H "Content-Type:application/x-www-form-urlencoded" \
 -d "grant_type=authorization_code" \
 -d "client_id=アプリのClient ID" \
 -d "client_secret=アプリのClient Secret" \
 -d "code=取得した認可コード" \
 -d "redirect_uri=アプリのencodedコールバックURL" \
 "https://accounts.secure.freee.co.jp/public_api/token"</code></pre>



<p><strong>2.リクエストレスポンスからアクセストークンを取得する</strong><br>リクエストが成功すると以下のようなレスポンスが戻ります。レスポンスの中からアクセストークン、リフレッシュトークンを取得します。<br>取得できたアクセストークンの有効期限は6時間です。</p>



<p>多くのAPIでは、事業所IDを指定してAPIを利用します。下記トークンレスポンスによって返却されたcompany_idを指定してアクセスする必要があるため、company_idをトークンと共に保存して下さい。</p>



<pre class="wp-block-code"><code>{
  "access_token": "アクセストークンの文字列",
  "token_type": "bearer",
  "expires_in": 21600,
  "refresh_token": "リフレッシュトークンの文字列",
  "scope": "read write"
  "company_id": "事業所IDの文字列"
}</code></pre>



<p>※尚、開発者のユースケースによっては、デフォルトで提供される認証用URLの末尾から”&amp;prompt=select_company”を削除して認証を行う場合があります。<br>このユースケースの詳細については<a href="https://developer.freee.co.jp/guideline/select-company" target="_blank" rel="noreferrer noopener">freee APIの使い方－事業所の選択について</a>をご覧ください。<br>この場合、アクセストークン取得時のレスポンスは以下のようになります。</p>



<pre class="wp-block-code"><code>{
  "access_token": "アクセストークンの文字列",
  "token_type": "bearer",
  "expires_in": 21600,
  "refresh_token": "リフレッシュトークンの文字列",
  "scope": "read write"
}</code></pre>



<h4 class="wp-block-heading" id="%e3%83%aa%e3%83%95%e3%83%ac%e3%83%83%e3%82%b7%e3%83%a5%e3%83%88%e3%83%bc%e3%82%af%e3%83%b3%e3%82%92%e7%94%a8%e3%81%84%e3%81%a6%e3%82%a2%e3%82%af%e3%82%bb%e3%82%b9%e3%83%88%e3%83%bc%e3%82%af%e3%83%b3">リフレッシュトークンを用いてアクセストークンを取得する<a class="anchorlink dashicons-before" href="#%e3%83%aa%e3%83%95%e3%83%ac%e3%83%83%e3%82%b7%e3%83%a5%e3%83%88%e3%83%bc%e3%82%af%e3%83%b3%e3%82%92%e7%94%a8%e3%81%84%e3%81%a6%e3%82%a2%e3%82%af%e3%82%bb%e3%82%b9%e3%83%88%e3%83%bc%e3%82%af%e3%83%b3"></a></h4>



<p>初回は認可コードからアクセストークンを取得しましたが、2回目以降は認可コードの代わりに4.2で取得したリフレッシュトークンを用いてアクセストークンを取得します。リフレッシュトークンには有効期限はありません。</p>



<p>※2023年12月頃より、リフレッシュトークンの有効期限が「有効期限なし」から、「発行後90日間」に変更される予定です。<br>詳細は以下のお知らせをご確認ください。<br><a href="https://developer.freee.co.jp/news/6540">【重要】リフレッシュトークンの有効期限の変更</a></p>



<pre class="wp-block-code"><code>curl -i -X POST \
 -H "Content-Type:application/x-www-form-urlencoded" \
 -d "grant_type=refresh_token" \
 -d "client_id=あなたのClient ID" \
 -d "client_secret=あなたのClient Secret" \
 -d "refresh_token=取得したrefresh_token" \
 "https://accounts.secure.freee.co.jp/public_api/token"
</code></pre>



<h2 class="wp-block-heading" id="%e3%82%b5%e3%83%b3%e3%83%97%e3%83%ab%e3%82%b3%e3%83%bc%e3%83%89">サンプルコード<a class="anchorlink dashicons-before" href="#%e3%82%b5%e3%83%b3%e3%83%97%e3%83%ab%e3%82%b3%e3%83%bc%e3%83%89"></a></h2>



<h3 class="wp-block-heading" id="java">Java<a class="anchorlink dashicons-before" href="#java"></a></h3>



<pre class="wp-block-code"><code>import com.mashape.unirest.http.HttpResponse;
import com.mashape.unirest.http.JsonNode;
import com.mashape.unirest.http.Unirest;

//変数を書き換えて利用します。
String client_id = { あなたのclient_id }
String client_secret ={ あなたのClient Secret };
String redirect_uri = { あなたのencodedコールバックURL }
String code = { 取得した認可コード }
String token_url = "https://accounts.secure.freee.co.jp/public_api/token";
String access_token;
String refresh_token;

//アクセストークンを取得する。
HttpResponse response = Unirest.post(token_url)
.header("Content-Type", "application/x-www-form-urlencoded")
.field("grant_type", authorization_code)
.field("redirect_uri", redirect_uri)
.field("client_id", client_id)
.field("client_secret", client_secret)
.field("code", code)
.asJson();

if (response.getStatus() != 200) {
  throw new HttpException(response.getStatusText());
}

//リクエストレスポンスからアクセストークンを取得する。
response = response.getBody();
JSONArray jsonArray = response.getArray();
JSONObject jsonObject = jsonArray.getJSONObject();
access_token = jsonObject.getString("access_token");
refresh_token = jsonObject.getString("refresh_token");

//リフレッシュトークンを用いてアクセストークンを取得する。
HttpResponse response = Unirest.post(token_url)
.header("Content-Type", "application/x-www-form-urlencoded")
.body("grant_type=" + refresh_token + "&amp;
  redirect_uri=" + redirect_uri + "&amp;
  client_id=" + client_id + "&amp;
  client_secret=" + client_secret + "&amp;
  refresh_token=" + refresh_token)
.asJson();
</code></pre>



<h3 class="wp-block-heading" id="node-js">Node.js<a class="anchorlink dashicons-before" href="#node-js"></a></h3>



<pre class="wp-block-code"><code>var request = require("request");

//変数を書き換えて利用します。
var token_url = "https://accounts.secure.freee.co.jp/public_api/token";
var redirect_uri = "あなたのencoedコールバックURL";
var client_id = "あなたのClient ID";
var client_secret = "あなたのClient Secret";
var code = "取得した認可コード";
var access_token = null;
var refresh_token = null;

//アクセストークンを取得する。
var options = {
  method: 'POST',
  url: token_url,
  headers: {
    'cache-control': 'no-cache',
    'Content-Type': 'application/x-www-form-urlencoded'
  },
  form: {
    grant_type: "authorization_code",
    redirect_uri: redirect_uri,
    client_id: client_id,
    client_secret: client_secret,
    code: code
  },
  json: true
};

request(options, function (error, response, body) {
  if (error) throw new Error(error);
  console.log(body);
  //リクエストレスポンスからアクセストークンを取得する。
  var response = body;
  access_token = response.access_token;
  refresh_token = response.refresh_token;
});

//リフレッシュトークンを用いてアクセストークンを取得する。
var options = {
  method: 'POST',
  url: token_url,
  headers: {
    'cache-control': 'no-cache',
    'Content-Type': 'application/x-www-form-urlencoded'
  },
  form: {
    grant_type: "refresh_token",
    redirect_uri: redirect_uri,
    client_id: client_id,
    client_secret: client_secret,
    refresh_token: refresh_token
  },
  json: true
};

request(options, function (error, response, body) {
  if (error) throw new Error(error);
  //リクエストレスポンスからアクセストークンを取得する。
  var response = body;
  access_token = response.access_token;
  refresh_token = response.refresh_token;
});
</code></pre>



<p>以上でアクセストークンの取得は完了です。</p>



<p>続いて、<a href="https://developer.freee.co.jp/startguide/first-call">アクセストークンを用いてAPIのGET/POSTリクエスト</a>を行いましょう。</p>



<h2 class="wp-block-heading" id="%ef%bc%88%e8%a3%9c%e8%b6%b3%ef%bc%89freee-api%e3%81%ab%e3%81%8a%e3%81%91%e3%82%8b%e3%82%a2%e3%82%af%e3%82%bb%e3%82%b9%e3%83%88%e3%83%bc%e3%82%af%e3%83%b3%e3%81%ae%e7%99%ba%e8%a1%8c%e5%8d%98%e4%bd%8d"><strong>（補足）freee APIにおけるアクセストークンの発行単位と2つの権限について</strong><a class="anchorlink dashicons-before" href="#%ef%bc%88%e8%a3%9c%e8%b6%b3%ef%bc%89freee-api%e3%81%ab%e3%81%8a%e3%81%91%e3%82%8b%e3%82%a2%e3%82%af%e3%82%bb%e3%82%b9%e3%83%88%e3%83%bc%e3%82%af%e3%83%b3%e3%81%ae%e7%99%ba%e8%a1%8c%e5%8d%98%e4%bd%8d"></a></h2>



<p>freee APIでは、ユーザー単位でアクセストークンを発行します。</p>



<p>認証用URLの末尾で&amp;prompt=select_companyを指定し、事業所選択機能を有効にして認可リクエストを行った場合は、<strong>認可画面でユーザーが選択した事業所に対してのみ</strong>アクセスが可能となります。</p>



<p>認証用URLの末尾から&amp;prompt=select_companyを削除し、複数の事業所に所属するユーザーがアプリの認可を行うと、<strong>そのユーザーが所属する全ての事業所</strong>に対してアクセスが可能となります。</p>



<p>事業所選択機能について、詳しくは<a href="https://developer.freee.co.jp/guideline/select-company">freee APIの使い方－事業所の選択について</a>をご覧ください。</p>



<p>アプリがアクセスできるリソースは、アプリに設定されているアクセス権と、アプリを利用するユーザーに設定されている権限によって異なります。この権限はプロダクトごとに設定できます。それぞれ以下の通りです。</p>



<ul>
<li>アプリに設定されているアクセス権
<ul>
<li>アプリごとに設定する、アプリがどのリソースにアクセス可能かの権限</li>



<li>アプリストアでアプリ開発者が設定する。</li>
</ul>
</li>



<li>freeeプロダクトでユーザーに設定されているアクセス権限
<ul>
<li>freeeプロダクト内で設定されている、ユーザーがどのリソースにアクセス可能かの権限</li>



<li>freeeプロダクト内で事業所の管理者ユーザーが設定する。</li>
</ul>
</li>
</ul>
</body></html>
	</div><!-- .entry-content -->
</article><!-- #post-## -->

						</div><!-- .l-main__main -->
			<div class="l-main__sub">
				<div id="js-toc" class="p-toc"></div>
			</div><!-- l-main__sub -->
		</main><!-- .l-main -->
		<div class="l-sidebar">

			<nav role="navigation" class="p-site-navigation">
		<div class="menu-startguide-menu-container"><ul id="menu-startguide-menu" class="menu"><li id="menu-item-5467" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-menu-ancestor current-menu-parent current-page-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-5467"><a href="https://developer.freee.co.jp/startguide">freee API スタートガイド</a>
<ul class="sub-menu">
	<li id="menu-item-5597" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5597"><a href="https://developer.freee.co.jp/startguide/tutorials">チュートリアル</a></li>
	<li id="menu-item-5468" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5468"><a href="https://developer.freee.co.jp/startguide/starting-api">アプリケーションを作成する</a></li>
	<li id="menu-item-5469" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-2004 current_page_item menu-item-5469"><a href="https://developer.freee.co.jp/startguide/getting-access-token" aria-current="page">アクセストークンを取得する</a></li>
	<li id="menu-item-5470" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5470"><a href="https://developer.freee.co.jp/startguide/first-call">最初のGET/POSTリクエストを行う</a></li>
	<li id="menu-item-6864" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6864"><a href="https://developer.freee.co.jp/startguide/postmanguide">Postmanでリクエストを行う</a></li>
	<li id="menu-item-5471" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5471"><a href="https://developer.freee.co.jp/startguide/deploy-app">アプリケーションを公開する</a></li>
</ul>
</li>
</ul></div>		</nav>
	
	
	
	
	
</div><!-- #secondary -->

	</div><!-- .l-contents -->
</div><!-- .l-wrapper -->

<footer class="l-footer" role="contentinfo">
	<div class="l-container">
		<div class="l-footer__content">
			<figure class="l-footer__logo">
				<img src="https://developer.freee.co.jp/common/img/logo_footer.svg" alt="freee" width="163" height="64" loading="lazy">
			</figure>
			<ul class="l-footer__navi">
				<li class="l-footer__item"><a href="https://corp.freee.co.jp/" target="_blank" rel="noopener">フリー株式会社</a></li>
				<li class="l-footer__item"><a href="https://www.freee.co.jp/houjin/" target="_blank" rel="noopener">freee会計</a></li>
				<li class="l-footer__item"><a href="https://www.freee.co.jp/hr/" target="_blank" rel="noopener">freee人事労務</a></li>
				<li class="l-footer__item"><a href="https://www.freee.co.jp/privacy_policy/" target="_blank" rel="noopener">プライバシーポリシー</a></li>
			</ul>
			<p class="l-footer__copyright"><small>&copy; 2024 freee K.K.</small></p>
		</div>
	</div>
</footer>

	<script defer src="https://developer.freee.co.jp/wp-content/themes/twentyfourteen/js/functions.js?ver=20210122" id="twentyfourteen-script-js"></script>
</body>
</html>
